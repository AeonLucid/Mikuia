extends layout

block content
	.splash(style=(profileBanner != null && profileBanner != 'null' ? 'background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(\'' + profileBanner + '\'); background-position: center; background-repeat: no-repeat; background-size: cover;' : undefined))
		.container
			.row
				.col-md-12.animation-fade-in-right
					h1 #{displayName} Level's Top 100
	.container
		.row
			.col-md-8.animation-fade-in-right
				table.table.table-bordered.table-striped
					thead
						tr
							th Rank
							th(style='width: 40%;') User
							th Experience
							th Level
							th(style='width: 20%;') Progress
					tbody
						- var i = 1
						each data in channels
							if data.length > 0
								- var channel = data[0]
								- var exp = data[1]

								tr(class=(user && user.username == channel ? 'info' : undefined))
									td
										h4 ##{i}
									td
										.media
											a.pull-left(href='/user/' + channel)
												img.img-circle.media-object(src=logos[channel], width=24, height=24)
											.media-body
												h4.media-heading
													a(href='/user/' + channel, style=(isStreamer[channel] ? undefined : 'color: #999;'))=displayNames[channel]
									td
										h4 #{exp} XP
									td
										h3
											+level(Mikuia.Tools.getLevel(exp), false, true)
									td
										+levelProgress(exp)
								- i++

			.col-md-4.animation-fade-in-left
				if user
					.panel.panel-default
						.panel-heading Your Stats
						.panel-body
							if experience
								h2
									+level(Mikuia.Tools.getLevel(experience))
									br
									.text-muted #{experience} XP
									| ##{rank}
								br
								+levelProgress(experience)
							else
								.text-muted No progress on this channel.
				else
					.panel.panel-default
						.panel-heading Your avatar or name capitalization broken?
						.panel-body
							.text-muted Login to update them!

				.panel.panel-default
					.panel-heading Bots taking your places?
					.panel-body
						.text-muted
							| You can report bots and get them blocked from gaining experience.
							br
							a(href='https://discord.gg/0UJjcqv4bLQMgRl3') Join Discord and tell us about it.

				.panel.panel-default
					.panel-heading Did you change accounts?
					.panel-body
						.text-muted
							| You can get all your levels moved to the new account.
							br
							a(href='https://discord.gg/0UJjcqv4bLQMgRl3') Join Discord and spam @Hatsu.

				.panel.panel-default
					.panel-heading How does it work?
					.panel-body
						p.
							Levels are a simple representation of your activity on the channel. The rules are the same for every channel.

						b Description
						ul
							li Sending a message sets your activity meter to #[b.text-success 10].
							li Every minute, your activity meter is reduced by #[b.text-success 1].
							li Every minute, you get #[b.text-danger 4 or 5 XP] if your activity meter is at least at #[b.text-success 1].
							li In case you're active on #[b.text-info 2 channels], you get #[b.text-danger 2 XP] per channel.
							li In case you're active on #[b.text-info 3 channels], you get #[b.text-danger 1 XP] per channel.
							li If you're active on more than #[b.text-info 3 channels] at the same time, you don't get any points.
